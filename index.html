<!DOCTYPE html>
<html lang="zh-TW">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>å€‹äººå·¥ä½œç®¡ç†</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    /* è‡ªè¨‚æ¨£å¼ */
    input[type="range"]::-webkit-slider-thumb {
      -webkit-appearance: none;
      appearance: none;
      width: 16px;
      height: 16px;
      background: #3b82f6;
      cursor: pointer;
      border-radius: 50%;
    }

    input[type="range"]::-moz-range-thumb {
      width: 16px;
      height: 16px;
      background: #3b82f6;
      cursor: pointer;
      border-radius: 50%;
    }
  </style>
</head>

<body class="bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900 min-h-screen">
  <div id="root"></div>

  <!-- React å’Œ Lucide Icons -->
  <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
  <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
  <script src="https://unpkg.com/lucide@latest"></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

  <!-- Google API -->
  <script src="https://apis.google.com/js/api.js"></script>

  <script type="text/babel">
    const { useState, useEffect } = React;

    // âš ï¸ é‡è¦ï¼šæ›¿æ›æˆä½ çš„ Google Sheets API è¨­å®š
    const CONFIG = {
      // æ­¥é©Ÿ1ï¼šå¾ Google Cloud Console å–å¾— API Key
      API_KEY: 'AIzaSyCyZxzi4UaSjQE5FKFQojJFNjShI_flPkA',
      SCRIPT_URL: 'https://script.google.com/macros/s/AKfycbygDQ2ZsqDdytqPsuJtbNuSoiN_MgJ9XZLaLdXYd8jOJAunGbN-GQQ8xahX5XR1R54iJQ/exec'
      // æ­¥é©Ÿ2ï¼šå¾ Google Sheets ç¶²å€å–å¾— Spreadsheet ID
      // ç¶²å€æ ¼å¼ï¼šhttps://docs.google.com/spreadsheets/d/SPREADSHEET_ID/edit
      SPREADSHEET_ID: '16b0AjBZnXQ58b4g2nKT-Wr-f_6zmDUBEZp0GABVrtXk',

      // å·¥ä½œè¡¨åç¨±ï¼ˆé è¨­ç‚º Sheet1ï¼‰
      SHEET_NAME: 'Sheet1'
    };

    function TodoApp() {
      const [tasks, setTasks] = useState([]);
      const [newTask, setNewTask] = useState('');
      const [newPriority, setNewPriority] = useState('medium');
      const [newStartDate, setNewStartDate] = useState('');
      const [newEndDate, setNewEndDate] = useState('');
      const [expandedTasks, setExpandedTasks] = useState({});
      const [taskNotes, setTaskNotes] = useState({});
      const [taskNoteTypes, setTaskNoteTypes] = useState({});
      const [editingSolutions, setEditingSolutions] = useState({});
      const [isLoading, setIsLoading] = useState(true);
      const [syncStatus, setSyncStatus] = useState('æœªé€£ç·š');
      const [useLocalStorage, setUseLocalStorage] = useState(true);

      // åˆå§‹åŒ– Google Sheets API
      useEffect(() => {
        if (CONFIG.API_KEY === 'YOUR_API_KEY_HERE') {
          console.warn('è«‹å…ˆè¨­å®š Google API Key');
          loadFromLocalStorage();
          return;
        }

        function initClient() {
          gapi.client.init({
            apiKey: CONFIG.API_KEY,
            discoveryDocs: ['https://sheets.googleapis.com/$discovery/rest?version=v4'],
          }).then(() => {
            setSyncStatus('å·²é€£ç·š');
            loadFromGoogleSheets();
          }).catch((error) => {
            console.error('API åˆå§‹åŒ–å¤±æ•—:', error);
            setSyncStatus('é€£ç·šå¤±æ•—ï¼Œä½¿ç”¨æœ¬åœ°å„²å­˜');
            loadFromLocalStorage();
          });
        }

        gapi.load('client', initClient);
      }, []);

      // å¾ LocalStorage è¼‰å…¥
      const loadFromLocalStorage = () => {
        const savedTasks = localStorage.getItem('tasks');
        if (savedTasks) {
          setTasks(JSON.parse(savedTasks));
        }
        setIsLoading(false);
      };

      // å¾ Google Sheets è¼‰å…¥
      const loadFromGoogleSheets = async () => {
        try {
          const response = await gapi.client.sheets.spreadsheets.values.get({
            spreadsheetId: CONFIG.SPREADSHEET_ID,
            range: `${CONFIG.SHEET_NAME}!A2:Z`,
          });

          const rows = response.result.values || [];
          const loadedTasks = rows.map(row => ({
            id: parseInt(row[0]) || Date.now(),
            text: row[1] || '',
            priority: row[2] || 'medium',
            completed: row[3] === 'true',
            startDate: row[4] || '',
            endDate: row[5] || '',
            progress: parseInt(row[6]) || 0,
            progressNotes: row[7] ? JSON.parse(row[7]) : []
          }));

          setTasks(loadedTasks);
          setUseLocalStorage(false);
          setSyncStatus('åŒæ­¥æˆåŠŸ');
        } catch (error) {
          console.error('è®€å– Google Sheets å¤±æ•—:', error);
          setSyncStatus('è®€å–å¤±æ•—ï¼Œä½¿ç”¨æœ¬åœ°å„²å­˜');
          loadFromLocalStorage();
        }
        setIsLoading(false);
      };

      // å„²å­˜åˆ° Google Sheets
      const saveToGoogleSheets = async (updatedTasks) => {
        if (useLocalStorage) {
          localStorage.setItem('tasks', JSON.stringify(updatedTasks));
          return;
        }

        try {
          const values = [
            ['ID', 'ä»»å‹™', 'å„ªå…ˆç´š', 'å®Œæˆ', 'é–‹å§‹æ—¥æœŸ', 'çµæŸæ—¥æœŸ', 'é€²åº¦', 'ç´€éŒ„']
          ];

          updatedTasks.forEach(task => {
            values.push([
              task.id.toString(),
              task.text,
              task.priority,
              task.completed.toString(),
              task.startDate || '',
              task.endDate || '',
              task.progress.toString(),
              JSON.stringify(task.progressNotes || [])
            ]);
          });

          await gapi.client.sheets.spreadsheets.values.update({
            spreadsheetId: CONFIG.SPREADSHEET_ID,
            range: `${CONFIG.SHEET_NAME}!A1`,
            valueInputOption: 'RAW',
            resource: { values }
          });

          setSyncStatus('åŒæ­¥æˆåŠŸ âœ“');
          setTimeout(() => setSyncStatus('å·²é€£ç·š'), 2000);
        } catch (error) {
          console.error('å„²å­˜åˆ° Google Sheets å¤±æ•—:', error);
          setSyncStatus('åŒæ­¥å¤±æ•—ï¼Œå·²å­˜æœ¬åœ°');
          localStorage.setItem('tasks', JSON.stringify(updatedTasks));
        }
      };

      // è¨ˆç®—å®Œæˆåº¦
      const completedCount = tasks.filter(task => task.completed).length;
      const completionPercentage = tasks.length > 0
        ? Math.round((completedCount / tasks.length) * 100)
        : 0;

      // æ–°å¢ä»»å‹™
      const addTask = () => {
        if (newTask.trim()) {
          const newTaskObj = {
            id: Date.now(),
            text: newTask,
            priority: newPriority,
            completed: false,
            startDate: newStartDate,
            endDate: newEndDate,
            progress: 0,
            progressNotes: []
          };

          const updatedTasks = [...tasks, newTaskObj];
          setTasks(updatedTasks);

          // 1. åŸæœ‰çš„æœ¬åœ°/ Sheets æ›´æ–°é‚è¼¯
          saveToGoogleSheets(updatedTasks);

          // 2. æ–°å¢ï¼šé€é Apps Script é€²è¡ŒçœŸæ­£çš„æ–°å¢å¯«å…¥
          if (CONFIG.SCRIPT_URL) {
            fetch(CONFIG.SCRIPT_URL, {
              method: 'POST',
              mode: 'no-cors', // é¿å…è·¨ç¶²åŸŸéŒ¯èª¤
              headers: { 'Content-Type': 'application/json' },
              body: JSON.stringify(newTaskObj)
            }).then(() => console.log('é›²ç«¯å¯«å…¥æŒ‡ä»¤å·²é€å‡º'));
          }

          // é‡è¨­è¼¸å…¥æ¡†
          setNewTask('');
          setNewPriority('medium');
          setNewStartDate('');
          setNewEndDate('');
        }
      };

      // åˆ‡æ›å®Œæˆç‹€æ…‹
      const toggleTask = (id) => {
        const updatedTasks = tasks.map(task =>
          task.id === id ? { ...task, completed: !task.completed, progress: task.completed ? task.progress : 100 } : task
        );
        setTasks(updatedTasks);
        saveToGoogleSheets(updatedTasks);
      };

      // æ›´æ–°é€²åº¦
      const updateProgress = (id, newProgress) => {
        const updatedTasks = tasks.map(task =>
          task.id === id ? { ...task, progress: parseInt(newProgress), completed: newProgress >= 100 } : task
        );
        setTasks(updatedTasks);
        saveToGoogleSheets(updatedTasks);
      };

      // æ–°å¢é€²åº¦ç´€éŒ„
      const addProgressNote = (taskId, noteText, noteType) => {
        if (!noteText.trim()) return;

        const updatedTasks = tasks.map(task => {
          if (task.id === taskId) {
            const newNote = {
              id: Date.now(),
              text: noteText,
              type: noteType,
              solution: '',
              resolved: false,
              timestamp: new Date().toISOString()
            };
            return {
              ...task,
              progressNotes: [...(task.progressNotes || []), newNote]
            };
          }
          return task;
        });

        setTasks(updatedTasks);
        saveToGoogleSheets(updatedTasks);
        setTaskNotes(prev => ({ ...prev, [taskId]: '' }));
      };

      // æ›´æ–°è§£æ±ºæ–¹å¼
      const updateNoteSolution = (taskId, noteId, solution) => {
        const updatedTasks = tasks.map(task => {
          if (task.id === taskId) {
            return {
              ...task,
              progressNotes: task.progressNotes.map(note =>
                note.id === noteId
                  ? { ...note, solution, resolved: solution.trim() !== '' }
                  : note
              )
            };
          }
          return task;
        });
        setTasks(updatedTasks);
        saveToGoogleSheets(updatedTasks);
      };

      // åˆªé™¤ç´€éŒ„
      const deleteProgressNote = (taskId, noteId) => {
        const updatedTasks = tasks.map(task => {
          if (task.id === taskId) {
            return {
              ...task,
              progressNotes: task.progressNotes.filter(note => note.id !== noteId)
            };
          }
          return task;
        });
        setTasks(updatedTasks);
        saveToGoogleSheets(updatedTasks);
      };

      // åˆªé™¤ä»»å‹™
      const deleteTask = (id) => {
        const updatedTasks = tasks.filter(task => task.id !== id);
        setTasks(updatedTasks);
        saveToGoogleSheets(updatedTasks);
      };

      // å…¶ä»–è¼”åŠ©å‡½æ•¸
      const toggleTaskNotes = (taskId) => {
        setExpandedTasks(prev => ({ ...prev, [taskId]: !prev[taskId] }));
      };

      const updateTaskNote = (taskId, value) => {
        setTaskNotes(prev => ({ ...prev, [taskId]: value }));
      };

      const updateTaskNoteType = (taskId, type) => {
        setTaskNoteTypes(prev => ({ ...prev, [taskId]: type }));
      };

      const getDateStatus = (startDate, endDate) => {
        if (!startDate && !endDate) return null;

        const now = new Date();
        now.setHours(0, 0, 0, 0);
        const start = startDate ? new Date(startDate) : null;
        const end = endDate ? new Date(endDate) : null;

        if (end && end < now) {
          return { status: 'overdue', text: 'å·²é€¾æœŸ', color: 'text-red-400' };
        }
        if (start && start > now) {
          return { status: 'upcoming', text: 'æœªé–‹å§‹', color: 'text-blue-400' };
        }
        if (start && end) {
          const daysLeft = Math.ceil((end - now) / (1000 * 60 * 60 * 24));
          if (daysLeft <= 3 && daysLeft > 0) {
            return { status: 'urgent', text: `å‰© ${daysLeft} å¤©`, color: 'text-orange-400' };
          }
          return { status: 'ongoing', text: 'é€²è¡Œä¸­', color: 'text-green-400' };
        }
        return { status: 'ongoing', text: 'é€²è¡Œä¸­', color: 'text-green-400' };
      };

      const priorityColors = {
        high: 'border-l-4 border-red-500 bg-red-950/30',
        medium: 'border-l-4 border-yellow-500 bg-yellow-950/30',
        low: 'border-l-4 border-green-500 bg-green-950/30',
        household: 'border-l-4 border-purple-500 bg-purple-950/30'
      };

      const priorityLabels = {
        high: 'é«˜',
        medium: 'ä¸­',
        low: 'ä½',
        household: 'å®¶å‹™'
      };

      const priorityBadgeColors = {
        high: 'bg-red-500/20 text-red-300 border border-red-500/30',
        medium: 'bg-yellow-500/20 text-yellow-300 border border-yellow-500/30',
        low: 'bg-green-500/20 text-green-300 border border-green-500/30',
        household: 'bg-purple-500/20 text-purple-300 border border-purple-500/30'
      };

      if (isLoading) {
        return (
          <div className="min-h-screen flex items-center justify-center">
            <div className="text-white text-xl">è¼‰å…¥ä¸­...</div>
          </div>
        );
      }

      return (
        <div className="min-h-screen p-6">
          <div className="max-w-3xl mx-auto">
            {/* æ¨™é¡Œèˆ‡åŒæ­¥ç‹€æ…‹ */}
            <div className="mb-8">
              <h1 className="text-4xl font-bold text-white text-center mb-2">
                ğŸ“‹ å€‹äººå·¥ä½œç®¡ç†
              </h1>
              <div className="text-center">
                <span className={`text-sm px-3 py-1 rounded-full ${syncStatus.includes('æˆåŠŸ') ? 'bg-green-600/20 text-green-400' :
                    syncStatus.includes('å¤±æ•—') ? 'bg-red-600/20 text-red-400' :
                      'bg-blue-600/20 text-blue-400'
                  }`}>
                  {syncStatus}
                </span>
              </div>
            </div>

            {/* é€²åº¦æ¢ */}
            <div className="bg-gray-800/50 backdrop-blur-sm rounded-xl p-6 mb-6 border border-gray-700">
              <div className="flex justify-between items-center mb-3">
                <span className="text-gray-300 font-medium">å®Œæˆé€²åº¦</span>
                <span className="text-2xl font-bold text-blue-400">
                  {completionPercentage}%
                </span>
              </div>
              <div className="w-full bg-gray-700 rounded-full h-4 overflow-hidden">
                <div
                  className="bg-gradient-to-r from-blue-500 to-purple-500 h-full transition-all duration-500 ease-out rounded-full"
                  style={{ width: `${completionPercentage}%` }}
                />
              </div>
              <p className="text-gray-400 text-sm mt-2">
                å·²å®Œæˆ {completedCount} / {tasks.length} é …ä»»å‹™
              </p>
            </div>

            {/* æ–°å¢ä»»å‹™è¡¨å–® */}
            <div className="bg-gray-800/50 backdrop-blur-sm rounded-xl p-6 mb-6 border border-gray-700">
              <div className="space-y-3">
                <div className="flex gap-3">
                  <input
                    type="text"
                    value={newTask}
                    onChange={(e) => setNewTask(e.target.value)}
                    onKeyPress={(e) => e.key === 'Enter' && addTask()}
                    placeholder="è¼¸å…¥æ–°ä»»å‹™..."
                    className="flex-1 bg-gray-700 text-white px-4 py-3 rounded-lg border border-gray-600 focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500/50 transition-all"
                  />
                  <select
                    value={newPriority}
                    onChange={(e) => setNewPriority(e.target.value)}
                    className="bg-gray-700 text-white px-4 py-3 rounded-lg border border-gray-600 focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500/50 transition-all"
                  >
                    <option value="high">é«˜å„ªå…ˆç´š</option>
                    <option value="medium">ä¸­å„ªå…ˆç´š</option>
                    <option value="low">ä½å„ªå…ˆç´š</option>
                    <option value="household">å®¶å‹™å·¥ä½œ</option>
                  </select>
                </div>

                <div className="flex gap-3 items-center">
                  <div className="flex items-center gap-2 flex-1">
                    <svg className="w-5 h-5 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z" />
                    </svg>
                    <input
                      type="date"
                      value={newStartDate}
                      onChange={(e) => setNewStartDate(e.target.value)}
                      className="flex-1 bg-gray-700 text-white px-4 py-2 rounded-lg border border-gray-600 focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500/50 transition-all"
                    />
                    <span className="text-gray-400">è‡³</span>
                    <input
                      type="date"
                      value={newEndDate}
                      onChange={(e) => setNewEndDate(e.target.value)}
                      className="flex-1 bg-gray-700 text-white px-4 py-2 rounded-lg border border-gray-600 focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500/50 transition-all"
                    />
                  </div>

                  <button
                    onClick={addTask}
                    className="bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-lg font-medium transition-all duration-200 flex items-center gap-2 hover:shadow-lg hover:shadow-blue-500/50"
                  >
                    <svg className="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M12 4v16m8-8H4" />
                    </svg>
                    æ–°å¢
                  </button>
                </div>
              </div>
            </div>

            {/* ä»»å‹™åˆ—è¡¨ */}
            <div className="space-y-3">
              {tasks.length === 0 ? (
                <div className="text-center py-16 text-gray-500">
                  <p className="text-xl mb-2">ğŸ¯ ç›®å‰æ²’æœ‰ä»»å‹™</p>
                  <p className="text-sm">é–‹å§‹æ–°å¢ä½ çš„ç¬¬ä¸€å€‹ä»»å‹™å§ï¼</p>
                </div>
              ) : (
                tasks.map(task => {
                  const dateStatus = getDateStatus(task.startDate, task.endDate);
                  const isExpanded = expandedTasks[task.id] || false;
                  const currentNote = taskNotes[task.id] || '';
                  const currentNoteType = taskNoteTypes[task.id] || 'progress';

                  return (
                    <div
                      key={task.id}
                      className={`${priorityColors[task.priority]} bg-gray-800/70 backdrop-blur-sm rounded-lg p-4 transition-all duration-200 hover:shadow-lg ${task.completed ? 'opacity-60' : ''
                        }`}
                    >
                      <div className="flex items-start gap-4">
                        {/* å®ŒæˆæŒ‰éˆ• */}
                        <button
                          onClick={() => toggleTask(task.id)}
                          className="flex-shrink-0 transition-transform hover:scale-110 mt-1"
                        >
                          {task.completed ? (
                            <svg className="w-7 h-7 text-green-400" fill="currentColor" viewBox="0 0 20 20">
                              <path fillRule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clipRule="evenodd" />
                            </svg>
                          ) : (
                            <svg className="w-7 h-7 text-gray-500 hover:text-blue-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                              <circle cx="12" cy="12" r="10" strokeWidth="2" />
                            </svg>
                          )}
                        </button>

                        <div className="flex-1 space-y-3">
                          {/* ä»»å‹™æ¨™é¡Œ */}
                          <div>
                            <p className={`text-white text-lg ${task.completed ? 'line-through text-gray-500' : ''}`}>
                              {task.text}
                            </p>

                            <div className="flex gap-2 mt-2 flex-wrap items-center">
                              <span className={`inline-block px-3 py-1 rounded-full text-xs font-medium ${priorityBadgeColors[task.priority]}`}>
                                {priorityLabels[task.priority]}å„ªå…ˆç´š
                              </span>

                              {dateStatus && (
                                <span className={`inline-block px-3 py-1 rounded-full text-xs font-medium bg-gray-700/50 ${dateStatus.color}`}>
                                  {dateStatus.text}
                                </span>
                              )}

                              {task.progressNotes && task.progressNotes.length > 0 && (
                                <span className="inline-block px-3 py-1 rounded-full text-xs font-medium bg-blue-500/20 text-blue-300 border border-blue-500/30">
                                  {task.progressNotes.length} ç­†ç´€éŒ„
                                </span>
                              )}
                            </div>
                          </div>

                          {/* æ—¥æœŸ */}
                          {(task.startDate || task.endDate) && (
                            <div className="flex items-center gap-2 text-sm text-gray-400">
                              <svg className="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z" />
                              </svg>
                              <span>
                                {task.startDate && new Date(task.startDate).toLocaleDateString('zh-TW')}
                                {task.startDate && task.endDate && ' - '}
                                {task.endDate && new Date(task.endDate).toLocaleDateString('zh-TW')}
                              </span>
                            </div>
                          )}

                          {/* é€²åº¦æ¢ */}
                          <div className="space-y-2">
                            <div className="flex items-center justify-between text-sm">
                              <span className="text-gray-400">ä»»å‹™é€²åº¦</span>
                              <span className="text-blue-400 font-medium">{task.progress || 0}%</span>
                            </div>
                            <div className="flex items-center gap-3">
                              <div className="flex-1 bg-gray-700 rounded-full h-2 overflow-hidden">
                                <div
                                  className="bg-gradient-to-r from-blue-500 to-purple-500 h-full transition-all duration-300"
                                  style={{ width: `${task.progress || 0}%` }}
                                />
                              </div>
                              <input
                                type="range"
                                min="0"
                                max="100"
                                step="10"
                                value={task.progress || 0}
                                onChange={(e) => updateProgress(task.id, e.target.value)}
                                className="w-24 h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer"
                                disabled={task.completed}
                              />
                            </div>
                          </div>

                          {/* é€²åº¦ç´€éŒ„å€åŸŸï¼ˆç°¡åŒ–ç‰ˆï¼Œå®Œæ•´ç‰ˆä»£ç¢¼å¤ªé•·ï¼‰ */}
                          <div className="border-t border-gray-700 pt-3">
                            <button
                              onClick={() => toggleTaskNotes(task.id)}
                              className="flex items-center gap-2 text-sm text-gray-400 hover:text-blue-400 transition-colors"
                            >
                              <svg className="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z" />
                              </svg>
                              {isExpanded ? 'éš±è—' : 'é¡¯ç¤º'}é€²åº¦ç´€éŒ„ ({(task.progressNotes || []).length})
                            </button>
                          </div>
                        </div>

                        {/* åˆªé™¤æŒ‰éˆ• */}
                        <button
                          onClick={() => deleteTask(task.id)}
                          className="flex-shrink-0 text-gray-500 hover:text-red-400 transition-all hover:scale-110"
                        >
                          <svg className="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16" />
                          </svg>
                        </button>
                      </div>
                    </div>
                  );
                })
              )}
            </div>
          </div>
        </div>
      );
    }

    ReactDOM.render(<TodoApp />, document.getElementById('root'));
  </script>
</body>

</html>